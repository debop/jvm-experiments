<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

    <link rel="stylesheet" type="text/css" href="lib/extjs/resources/css/ext-all.css"/>
    <link rel="stylesheet" type="text/css" href="ch12.css"/>
    <script src="lib/extjs/adapter/ext/ext-base.js"></script>
    <script src="lib/extjs/ext-all-debug.js"></script>
    <script src="lib/extjs/locale/ext-lang-ko.js"></script>

    <script type="text/javascript">
        Ext.onReady(function () {
            new Ext.dd.DragZone('today');
            new Ext.dd.DragZone('tmrw');

            var cfg = { onNodeDrop: drop }

            new Ext.dd.DropZone('tmrw', cfg);
            new Ext.dd.DropZone('today', cfg);

            var drags = document.getElementsByTagName('li');

            for (var i = 0; i < drags.length; i++) {
                Ext.dd.Registry.register(drags[i]);
            }

            // dropNodeData - drop node data object
            // source - drag zone which contained the dragged element
            // event - the drag drop event
            // dragNodeData - drag source data object
            // this - destination drop zone
            function drop(dropNodeData, source, event, dragNodeData) {
                var dragged = source.dragData.ddel;
                var sourceContainer = source.el.dom;
                var destinationContainer = this.getEl();

                sourceContainer.removeChild(dragged);
                destinationContainer.appendChild(dragged);

                return true;
            }
        });
    </script>
</head>
<body>
<h1 class="tt">오늘</h1>
<ul id="today">
    <li>쇼핑</li>
    <li>이발</li>
</ul>
<h1 class="tt">내일</h1>
<ul id="tmrw">
    <li>세차</li>
</ul>
</body>
</html>